<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>
        Pomelo
    </title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta http-equiv="content-style-type" content="text/css" />
    <meta http-equiv="content-scripte-type" content="text/javascript" />
    <meta name="author" content="netease" />
    <meta name="version" content="1.0" />
    <meta name="keywords" content="pomelo" />
    <link type="text/css" rel="stylesheet" href="css/base.css" />
    <script src="js/lib/jquery-1.8.0.min.js" type="text/javascript">
    </script>
    <script src="js/lib/build/build.js" type="text/javascript"></script>
    <script type="text/javascript">
        require('boot');
    </script>
    <script src="js/client.js">
    </script>

    <script type="text/javascript">
        var pomelo = window.pomelo;
        var host = window.location.hostname;
        var port = "3010";

        function connect() {
            pomelo.init({
                host: host,
                port: port,
                log: true
            }, function() {
            });
        }

        function createGroup() {
            var groupId = parseInt($("#groupId").attr("value"), 10);
            var uid = parseInt($("#uid").attr("value"), 10);
            pomelo.request("chat.chatHandler.createGroup", {group:groupId, uid: uid}, function(data) {

            });
        }

        function joinGroup() {
            var groupId = parseInt($("#groupId").attr("value"), 10);
            var uid = parseInt($("#participantUid").attr("value"), 10);
            pomelo.request("chat.chatHandler.joinGroup", {group:groupId, uid: uid}, function(data) {

            });
        }

    </script>
</head>
<body>
<div class="g-doc">
    <div class="g-banner" style="border:none">
        <div class="logo">
            <div class="img"></div>
        </div>
    </div>
    <div class="g-background">
        <div class="g-content">
            Welcome to Pomelo Chats
        </div>
    </div>

    <div class="g-button">
        <tr>
            <td>
                <input id="connect" type="button" value="连接到服务器" onclick="connect()"/>
            </td>
        </tr>
    </div>

    <div class="g-button">
        <tr>
            <td>
                群id：<input id="groupId" type="text" placeholder="输入群id" />
                创建人uid:<input id="uid" type="text" placeholder="输入创建人的uid" />
            </td>
            <td>
                <input id="createGroup" type="button" value="创建群" onclick="createGroup()"/>
            </td>
        </tr>
    </div>

    <div class="g-button">
        <tr>
            <td>
                用户id：<input id="participantUid" type="text" placeholder="输入用户id" />
            </td>
            <td>
                <input id="joinGroup" type="button" value="加入群" onclick="joinGroup()"/>
            </td>
        </tr>
    </div>

    <div id="chatHistory">
    </div>

</div>
</body>
</html>
